---
layout: single
title: "JSP스크립트"
excerpt: "JSP스크립트"
categories: Jsp
tags: Jsp

permalink: /categories/2024-01-02-JSP스크립트/ # url

toc: true
toc_sticky: true

date: 2024-01-02
last_modified_at: 2024-01-02
---

# JSP스크립트

```
Servlet은 순수 JAVA코드로만 이루어져 있기 때문에 우리가 어떠한 자바 파일을 만들고 코딩을 할때,
주로 doGet, doPost 안에다가 코딩을 했었는데요.
이렇게 만들어진 Servlet은 반드시 HttpServlet 클래스를 상속받아서 만들어졌어야 했죠.
이렇게해서 만들어지고 나서 컴파일하면 클래스 파일이 만들어짐.
이 클래스 파일은 컨테이너에서 사용자의 요청에 따라서 동작을 하게됨.
ex) XXX.java -> XXX.class

반면에 JSP는 우리가 jsp파일 html 코드와 java언어를 합쳐서 jsp파일을 만들수가 있음.
jsp파일을 개발자가 만들어 놓고나면 얘도 java 계열이기 때문에 jvm이 해석할수 있게 java 코드로 만들어져야함. 우리가 만드는건 아님.
개발자는 XXX.jsp 파일을 만들고 나면 컨테이너가 알아서  XXX_jsp.java파일을 만듬.
이렇게 생성된 java파일은 컴파일러에 의해서 마찬가지로 클래스 파일로 만들어지고,
사용자의 요청에 의해서 동작이 수행될 수가 있음.
ex) XXX.jsp -> XXX_jsp.java -> XXX_jsp.class
```

# JSP 주요 스크립트

```jsp
<%@page import="java.util.ArrayList"%>
<%@ page language="java" contentType="text/html; charset=EUC-KR"
    pageEncoding="EUC-KR"%>
<!DOCTYPE html>
<html>
<head>
<meta charset="EUC-KR">
<title>Insert title here</title>
</head>
<body>
	<!-- 선언 태그 -->
	<%!
		int num = 10;
		String str = "jsp";
		ArrayList<String> list = new ArrayList<String>();
		
		public void jspMethod(){
			System.out.println(" -- jspMethod() -- ");
		}
	%>
	
	<!-- 여기는 HTML 주석 입니다. -->
	
	<%-- 여기는 JSP 주석 입니다. --%>
</body>
</html>
```

`선언태그` JSP 페이지에서 Java의 멤버변수 또는 메서드를 선언하기 위한 코드.

`주석태그` jsp 주석은  jsp파일이 서블릿 파일로 변환될 때 제외된다.
컴파일 시점에서 제외되기 때문에 사용자들한테 보여주는 화면에서는 전혀 문제가 되지 않음. 정상적으로 컴파일 됨.

```jsp
<%@page import="java.util.ArrayList"%>
<%@ page language="java" contentType="text/html; charset=EUC-KR"
    pageEncoding="EUC-KR"%>
<!DOCTYPE html>
<html>
<head>
<meta charset="EUC-KR">
<title>Insert title here</title>
</head>
<body>
	<!-- 선언 태그 -->
	<%!
		int num = 10;
		String str = "jsp";
		ArrayList<String> list = new ArrayList<String>();
		
		public void jspMethod(){
			System.out.println(" -- jspMethod() -- ");
		}
	%>

	<%-- 스크립트릿 태그 --%>
	
	<%
		if(num > 0){
	%>
	<p> num > 0</p>
	<%
		} else {	
	%>
	<p> num <= 0</p>
	<%
		}
	%>

  <!-- 표현식 태그 -->
	num is <%= num %>
</body>
</html>
```

    num > 0

    num is 10

`스크립트릿 태그` JSP페이지에서 Java 코드를 넣기 위한 태그

`표현식 태그` Java의 변수 및 메서드의 반환값을 출력하는 태그

`지시어` 서버에서 jsp페이지를 처리하는 방법에 대한 정의

1) page : 페이지 기본 설정 -> <% page속성 = "속성 값">
```jsp

<%@ page language="java" contentType="text/html; charset=EUC-KR"
    pageEncoding="EUC-KR"%>
```

2) include : include file 설정 -> <% include file = "파일명">

```jsp
<%@ include file= "header.jsp"%>
```
3) taglib :  외부라이브러리 태그 설정 -> <% taglib uri = "uri" prefix="네임스페이스명">

```jsp
<%@ taglib uri="http://java.sun.com/jsp/jstl/core" prefix="c"%>
```

# 참고
```jsp
<%@page import="java.util.ArrayList"%>
<%@ page language="java" contentType="text/html; charset=EUC-KR"
    pageEncoding="EUC-KR"%>
<!DOCTYPE html>
<html>
<head>
<meta charset="EUC-KR">
<title>Insert title here</title>
</head>
<body>
	<%@ include file= "header.jsp"%>
	<!-- 선언 태그 -->
	<%!
		int num = 10;
		String str = "jsp";
		ArrayList<String> list = new ArrayList<String>();
		
		public void jspMethod(){
			System.out.println(" -- jspMethod() -- ");
		}
	%>

	<%-- 스크립트릿 태그--%>
	
	<%
		if(num > 0){
	%>
	<p> num > 0</p>
	<%
		} else {	
	%>
	<p> num <= 0</p>
	<%
		}
	%>
	
	<!-- 표현식 태그-->
	num is <%= num %>
	
	<%@ include file= "footer.jsp"%>
</body>
</html>
```

다음코드를 실행해서 페이지 소스보기를 하면 자바코드는 온데간데 없이 날아가 버리고
순수 100% HTML 코드만 남아있음.
위의 코드는 서버에서 동작하는 웹 컨테이너에서 동작을 하는 코드임.
여기서 JSP는 Java로 변환이 된 다음에 클래스로 변환이 되어서 실질적으로 컨테이너에서 모든 작업이 끝남.
그리고 사용자에게 보여질때는 Java 코드는 보여질 필요가 없음.
그래서 위코드는 이페이지가 동작하는데 필요한 데까지만 역할을 다 하고 빠지는거임.
실제로 뷰에 보여지는 것은 HTML 파일만 보여지면 되기 때문에 순수 HTML문법 코드만 남겨지게 됨.
html주석태그는 남아있지만 jsp주석 태그는 사라짐.
jsp 주석태그는 jsp파일이 java파일로 되고, class파일로 될때 이미 빠짐. 
아예 컴파일 대상에서 제외시켜 버리는 거에요.
 
```html
<!DOCTYPE html>
<html>
<head>
<meta charset="EUC-KR">
<title>Insert title here</title>
</head>
<body>
	<P> Header contents </P>
	<!-- 선언 태그 -->
	

	
	
	
	<p> num > 0</p>
	
	
	<!-- 표현식 태그-->
	num is 10
	
	<p> footer contents </p>
</body>
</html>
```
