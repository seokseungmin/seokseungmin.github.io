---
title: "Red-Black 트리"
excerpt: "[자료구조] Red-Black 트리"

categories:
  - Data Structure
tags:
  - [Data Structure]

permalink: /categories/Red-Black트리/ # url

toc: true
toc_sticky: true

date: 2024-05-14
last_modified_at: 2024-05-14
---

## Red-Black 트리
조건<br>
root 노드와 leaf 노드의 색은 black<br>
red 색 노드의 자식은 black (double red 불가)<br>
모든 leaf 노드에서 root 노드까지 가는 경로의 black 노드 수는 같음<br>
조건이 깨지는 상황에서 Rebalancing<br>

![new repo](/assets/images/posts_img/Data-Structure/img47.PNG)

## Red-Black 트리 – 삽입(1)
노드 삽입 후 double red 발생 case 1<br>
부모 노드의 형제 노드가 red일 때<br>
Recoloring 진행<br>
삽입한 노드의 부모와 부모의 형제 노드를 black으로 변경<br>
부모의 부모 노드를 red로 변경<br>
부모의 부모 노드가 root인지 double red인지에 따라 조정 진행<br>

![new repo](/assets/images/posts_img/Data-Structure/img48.PNG)

## Red-Black 트리 – 삽입(2)
노드 삽입 후 double red 발생 case 2<br>
부모 노드의 형제 노드가 black 이거나 없을 때<br>
Restructuring 진행<br>
조정 대상: 삽입한 노드, 부모 노드, 부모의 부모 노드<br>
조정 대상 노드들을 오름차순 정렬<br>
가운데 노드를 부모 노드로 선정하고 black으로 변경<br>
나머지 두 노드를 자식 노드로 두고 red로 변경<br>

![new repo](/assets/images/posts_img/Data-Structure/img49.PNG)

## Red-Black 트리 – 삭제 (기본)
삭제 대상 노드가 black 이고 그 자리에 오는 노드가 red인 경우<br>
해당 자리로 오는 red 노드를 black으로 변경<br>

![new repo](/assets/images/posts_img/Data-Structure/img50.PNG)

## Red-Black 트리 – 삭제 (이중 흑색 1)
삭제 대상 노드가 black, 그 자리에 오는 노드가 black인 경우<br>
이중 흑색 노드의 형제 노드가 black 이고, <br>
형제의 양쪽 자식 모두 black인 경우<br>
형제 노드를 red로 변경<br>
이중 흑색 노드의 검은색 1개를 부모 노드로 전달<br>
부모가 root가 아닌 이중 흑색 노드가 되면 해당 case 반복 진행<br>

![new repo](/assets/images/posts_img/Data-Structure/img51.PNG)

## Red-Black 트리 – 삭제 (이중 흑색 2)
Double Black Case 2<br>
이중 흑색 노드의 형제 노드가 red인 경우<br>
형제 노드를 black으로 변경<br>
부모 노드를 red로 변경<br>
부모 노드를 기준으로 왼쪽으로 회전<br>
그 다음 이중 흑색 case 에 따라 반복 진행 <br>

![new repo](/assets/images/posts_img/Data-Structure/img52.PNG)

## Red-Black 트리 – 삭제 (이중 흑색 3-1)
Double Black Case 3-1<br>
이중 흑색 노드의 형제 노드가 black 이고, 오른쪽 자식이 red인 경우<br>
부모 노드와 형제 노드의 오른쪽 자식 노드를 검은색으로 변경<br>
부모 노드를 기준으로 왼쪽으로 회전<br>

![new repo](/assets/images/posts_img/Data-Structure/img53.PNG)

## Red-Black 트리 – 삭제 (이중 흑색 3-2)
Double Black Case 3-2<br>
이중 흑색 노드의 형제 노드가 black 이고, 왼쪽 자식이 red인 경우<br>
형제 노드를 red 로 변경<br>
형제 노드의 왼쪽 자식 노드를 black 으로 변경<br>
형제 노드를 기준으로 오른쪽으로 회전<br>
이중 흑색 3-1 case 진행<br>

![new repo](/assets/images/posts_img/Data-Structure/img54.PNG)

## Red-Black 트리 vs. AVL 트리
알고리즘 시간 복잡도<br>
둘 다 O(logN)<br>
균형 수준<br>
AVL 트리 가 Red-Black 트리 보다 좀 더 엄격하게 균형 잡음<br>
Red-Black 트리는 색으로 구분하는 경우로 인해 회전 수가 감소<br>
실 사용 시,<br>
Tree 체계가 잡힌 후, 탐색이 많은 경우에는 AVL 트리 가 유리<br>
삽입, 삭제가 빈번한 경우에는 Red-Black 트리 가 유리<br>

출처 : 제로베이스
