---
layout: single
title:  "생성자와 소멸자 그리고 this 키워드"
excerpt: "생성자와 소멸자 그리고 this 키워드"

categories: Java
tags:  Java

permalink: /categories/2023-12-29-생성자와 소멸자 그리고 this 키워드/ # url

toc: true
toc_sticky: true

date: 2023-12-29
last_modified_at: 2023-12-30
---

# 생성자와 소멸자 그리고 this 키워드
# 디폴트 생성자
객체가 생성될때 가장 먼저 호출되는 생성자로, 만약 개발자가 명시하지 않아도 컴파일 시점에 자동 생성된다.
```Java
public class ObjectClass {
	
	//디폴트 생성자가 없는 경우 컴파일러가 자동 생성
	/*	public ObjectClass() {
			
		}*/	
	
	public ObjectClass() {
		System.out.println("-- ObjectClass() --");
	}
	
}
```
```Java
public class MainClass {
	public static void main(String[] args) {
			
		ObjectClass obj1 = new ObjectClass();
		
	}
}
```
    -- ObjectClass() --

# 사용자 정의 생성자
디폴트 생성자 외에 특정 목적에 의해서 개발자가 만든 생성자로, 매개변수에 차이가 있다.
```Java
public class ObjectClass {
	
	//디폴트 생성자가 없는 경우 컴파일러가 자동 생성
	/*	public ObjectClass() {
			
		}*/	
	
	public ObjectClass(String s, int[] iArr) {
		System.out.println("-- ObjectClass() --");
		
		System.out.println("s ----> " +  s);
		System.out.println("iArr ----> " +  iArr); //배열은 객체이기 떄문에 그 메모리의 주소가 출력됨!
	}
	
}
```
```Java
public class MainClass {
	public static void main(String[] args) {
			
		int[] iArr = {10, 20, 30};
		ObjectClass obj1 = new ObjectClass("Hello", iArr);
		
	}
}
```
    -- ObjectClass() --
    s  ----> Hello
    iArr ----> [I@15db9742

# 소멸자
객체가 GC(Gabage Collector)에 의해서 메모리에서 제거 될때 finalize() 메서드가 호출된다.
```Java
public class ObjectClass {
	
	//디폴트 생성자가 없는 경우 컴파일러가 자동 생성
	public ObjectClass() {
		System.out.println("Default Constructor");
	}

	@Override
	protected void finalize() throws Throwable{
		
		System.out.println("-- finalize() method --");
		
		super.finalize();
	}
}
```
```Java
public class MainClass {
	public static void main(String[] args) {
			
		//소멸자
		ObjectClass obj2;
		obj2 = new ObjectClass();
		obj2 = new ObjectClass();
		
		System.gc();
	}
}
```

    Default Constructor
    Default Constructor
    -- finalize() method --  // <-- GC가 첫번째 생성자를 메모리에서 제거 한것!
    
System.gc();를 사용한다고 해서 GC가 바로 작동하는 것이 아니라, 가급적 빨리 작동하도록 요청하는 것이다.
Java는 기본적으로 메모리를 개발자가 직접 관리하지 않으므로 일반적으로 System.gc();를 사용하는 경우는 드물다.
finalize는 객체가 소멸될때 호출되는 메서드인데 거의 사용할 일은 없다! 이런게 있다는 것 정도만 알면될듯!

# this 키워드
현재 객체를 가리킬 때 this를 사용한다.
```Java
public class ObjectClass {
	//전역변수 : 객체가 생성되고 소멸되기 전까지 항상 메모리에 존재하는 데이터 변수임 
	public int x;
	public int y;
	//디폴트 생성자가 없는 경우 컴파일러가 자동 생성
	public ObjectClass() {
		System.out.println("Default Constructor");
	}

	@Override
	protected void finalize() throws Throwable{
		
		System.out.println("-- finalize() method --");
		
		super.finalize();
	}
	
	public ObjectClass(int x, int y) {
		this.x = x;
		this.y = y;
	}
	
	public void getInfo() {
		System.out.println("x----> " + x);
		System.out.println("y----> " + y);
	}
}
```
```Java
public class MainClass {
	public static void main(String[] args) {
			
		//this 키워드
		ObjectClass obj1 = new ObjectClass(10, 20);
		obj1.getInfo();
	}
}
```
    x----> 10
    y----> 20
