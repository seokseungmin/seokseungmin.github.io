---
layout: single
title:  "한글처리"
excerpt: "한글처리"
categories: Jsp
tags:  Jsp

permalink: /categories/한글처리/ # url

toc: true
toc_sticky: true

date: 2024-01-03
last_modified_at: 2024-01-03
---

# 한글처리

<center><img src="/assets/images/posts_img/readme/한글처리.png" width="100%" height="100%"></center>


# post방식

```jsp
<%@ page language="java" contentType="text/html; charset=UTF-8"
    pageEncoding="EUC-KR"%>
<!DOCTYPE html>
<html>
<head>
<meta charset="EUC-KR">
<title>Insert title here</title>
</head>
<body>
	<form action="MSignUp" method="post">
		이름 : <input type="text" name="m_name">
		별명 : <input type="text" name="m_nickname">
		<input type="submit" value="sign up">
	</form>
</body>
</html>
```

```java
package com.servlet;

import java.io.IOException;
import java.io.PrintWriter;

import javax.servlet.ServletException;
import javax.servlet.annotation.WebServlet;
import javax.servlet.http.HttpServlet;
import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;

@WebServlet("/MSignUp")
public class MSignUp extends HttpServlet {

	protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {
		request.setCharacterEncoding("UTF-8");
		response.setContentType("text/html; charset=UTF-8");
		
		PrintWriter out = response.getWriter();
		String mName = request.getParameter("m_name");
		String mNickName = request.getParameter("m_nickname");
		
		out.print("<p>mName : " + mName + "</p>");
		out.print("<p>mNickName : " + mNickName + "</p>");
		
	}

	protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {
		doGet(request, response);
	}

}
```

    mName : 석승민

    mNickName : 돌승민

```jsp
<%@ page language="java" contentType="text/html; charset=UTF-8"
    pageEncoding="UTF-8"%>
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
</head>
<body>
	<form action="mSignUp.jsp" method="post">
		이름 : <input type="text" name="m_name">
		별명 : <input type="text" name="m_nickname">
		<input type="submit" value="sign up">
	</form>
</body>
</html>
```

```jsp
<% request.setCharacterEncoding("UTF-8"); %>
<%@ page language="java" contentType="text/html; charset=UTF-8"
    pageEncoding="UTF-8"%>
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
</head>
<body>
	<%!
		String mName;
		String mNickname;
	%>
	
	<%
		mName = request.getParameter("m_name");
		mNickname = request.getParameter("m_nickname");
	%>
	
	이름 : <%= mName%>
	<br>
	별명 :  <%= mNickname%>
</body>
</html>
```

    이름 : 석승민
    별명 : 돌승민

# get방식

  ```jsp
<%@ page language="java" contentType="text/html; charset=UTF-8"
    pageEncoding="UTF-8"%>
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
</head>
<body>
	<form action="mSignUp.jsp" method="get">
		이름 : <input type="text" name="m_name">
		별명 : <input type="text" name="m_nickname">
		<input type="submit" value="sign up">
	</form>
</body>
</html>
```

```
server.xml에서 ctrl+F 키 눌러서 Connector 치고 
<Connector URIEncoding="UTF-8" connectionTimeout="20000" maxParameterCount="1000" port="8090" protocol="HTTP/1.1" redirectPort="8443"/>
안에 URIEncoding="UTF-8" 추가하면 get방식은 끝남.
```

<center><img src="/assets/images/posts_img/readme/Filter.png" width="100%" height="100%"></center>

# 필터

```
말 그대로 뭔가를 걸러낸다는 얘기, 웹브라우저/클라이언트가 웹서버와 통신을 해요.
HTTP 프로토콜을 이용한 리퀘스트와 리스폰스, 요청과 응답에 대한 통신을 합니다.
통신을 할때, 중간에 필터라는 것을 하나 두는거에요. 필터가 한번 걸러줘요.
브라우저에서 오는 데이터를 한번 걸러서 웹서버로 보내고 웹서버에서 나오는 데이터를 한번
걸러서 다시 리스폰스 할때 브라우저에 데이터를 보내고 그래서 필터라는 걸 들 수가 있는데
필터라는 걸 이용해서 우리가 위에서 했던 한글처리를 좀더 쉽게 할 수가 있음.
서블릿의 개수가 한개 두개면 상관 없지만, 10, 100개라고 한다면
그 모든 서블릿마다 인코딩 코드를 넣어줘야함.
비효율적이고 휼륭해 보이는 코딩은 아니겠죠?
이것을 필터를 이용해서 필터에 인코딩을 넣어줍니다.
모든 요청에 대한 / 모든 응답에 대한 것들이 필터를 지나가기 때문에
필터를 지나갈 때 데이터 한글이 정상적으로 인코딩 되어서 전달이 될 수가 있겠습니다.
필터는 인터페이스임. 사용자가 다른 클래스를 하나 만들어서 얘를 implement 구현을 해야함.
```

# web.xml

```xml
<?xml version="1.0" encoding="UTF-8"?>
<web-app xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns="http://xmlns.jcp.org/xml/ns/javaee" xsi:schemaLocation="http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_3_1.xsd" id="WebApp_ID" version="3.1">
  <display-name>lec15Pjt001</display-name>
  <welcome-file-list>
    <welcome-file>index.html</welcome-file>
    <welcome-file>index.htm</welcome-file>
    <welcome-file>index.jsp</welcome-file>
    <welcome-file>default.html</welcome-file>
    <welcome-file>default.htm</welcome-file>
    <welcome-file>default.jsp</welcome-file>
  </welcome-file-list>
  
  <!-- filter -->
  <filter>
  	<filter-name>tempFilter</filter-name>
  	<filter-class>com.servlet.filter.TempFilter</filter-class>
  </filter>
  <filter-mapping>
  	<filter-name>tempFilter</filter-name>
  	<url-pattern>/*</url-pattern>
  </filter-mapping>
  
</web-app>
```

```java
package com.servlet.filter;

import java.io.IOException;

import javax.servlet.Filter;
import javax.servlet.FilterChain;
import javax.servlet.FilterConfig;
import javax.servlet.ServletException;
import javax.servlet.ServletRequest;
import javax.servlet.ServletResponse;

public class TempFilter implements Filter {

	@Override
	public void init(FilterConfig arg0) throws ServletException {
		System.out.println(" -- filter init() --");
	}
	
	@Override
	public void doFilter(ServletRequest req, ServletResponse res, FilterChain chain)
			throws IOException, ServletException {
		System.out.println(" -- filter doFilter() --");
		
		// reqeust filter
		req.setCharacterEncoding("UTF-8");
		
		chain.doFilter(req, res);
		
		// response filter
		
	}
	
	@Override
	public void destroy() {
		System.out.println(" -- filter destroy() --");
	}

}
```
